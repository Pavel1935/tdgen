Начнём с главного. Рассказать про негативное тестирование всё не представляется возможным. Да и не нужно. Я просто подскажу, как перестать заниматься хернёй и начать тратить время на действительно важные баги.

tdgen — небольшой pet-проект, который появился из очень простой боли.  
Тестировщик слишком много времени тратит на подготовку тестовых данных.

Пустые поля.  
Невалидные форматы.  
Значения короче минимума.  
Слишком длинные строки.  
Отсутствующие параметры.  

Вот это вот всё.

Каждый тестировщик знает этот момент. Ты вроде как пришёл тестировать систему, а по факту уже двадцатый раз руками собираешь одни и те же payload’ы. Из проекта в проект. Почти без изменений. Отличается только название поля и длина строки.

В итоге баги есть, система ломается, а время уходит на копипаст.

Захотелось это прекратить.

---

Что такое tdgen

tdgen — это генератор негативных тестовых данных.  
Не фреймворк.  
Не платформа.  
Не «универсальное решение для всего».

Это инструмент для братшки/сестрички тестировщика.

tdgen читает JSON-схему входных данных и на её основе генерирует набор негативных payload’ов. Каждый payload ломает ровно одно правило. Остальные поля при этом остаются валидными.

Один payload — один негативный кейс.  
Без комбинаторного безумия.  
Без «а давай ещё вот так попробуем».  

---

Про тест-дизайн

tdgen не пытается быть умнее тестировщика. Он просто честно применяет базовые техники тест-дизайна:

Negative testing.  
Классы эквивалентности.  
Анализ граничных значений.  
Empty и missing значения.  
Robustness testing, когда входные данные выходят за все разумные пределы.

Если кейс нельзя объяснить словами за 10 секунд — его здесь не будет.

---

Что именно мы ломаем

Email (type: "email")

Ломается ровно так, как ломается в реальных системах:
- некорректный формат
- пустое значение
- поле отсутствует
- только пробелы
- пробелы в начале и конце
- слишком длинное значение

Password (type: "string")

Без фантазий и без сказок:
- короче минимальной длины
- пустая строка
- только пробелы
- слишком длинное значение

Каждый кейс атомарный.  
Каждый кейс понятный.  
Каждый кейс не стыдно показать разработчику.

---

Как это всё устроено

tdgen/
- tdgen.py — основной скрипт
- schemas/
  - user.json — схема входных данных
  - invalid_rules.json — список негативных правил
- output/
  - payload.json — результат генерации

Правила негативных кейсов вынесены отдельно от кода.  
Потому что тест-дизайн — это не алгоритм, а список того, что мы осознанно хотим сломать.

---

Как этим пользоваться

python3 tdgen.py --schema schemas/user.json --out output/payload.json

На выходе — JSON со списком негативных payload’ов.  
Каждый payload — готовый негативный тест-кейс.  
Ничего лишнего.

---

Про автотесты

tdgen идеально ложится в автотесты. Особенно в API.

Сгенерировал payload’ы.  
Параметризовал тест.  
Прогнал негатив.  
Посмотрел, где система повела себя как кусок говна.

Без ручной сборки данных и бессмысленного копипаста.

---

Где tdgen не нужен

tdgen не про:
- комбинации вида «валидный логин + невалидный пароль»
- бизнес-логику и HTTP-статусы
- UI, браузеры, автозаполнение и прочий визуальный шум

Эти задачи должны решаться в самих тестах.

tdgen решает одну конкретную задачу — забирает у тестировщика рутинную и тупую работу по подготовке негативных данных.  
Чтобы осталось время на анализ, архитектуру и поиск действительно неприятных багов.

